[
  {
    "url": "https://api.github.com/repos/rails/rails/issues/40330",
    "repository_url": "https://api.github.com/repos/rails/rails",
    "labels_url": "https://api.github.com/repos/rails/rails/issues/40330/labels{/name}",
    "comments_url": "https://api.github.com/repos/rails/rails/issues/40330/comments",
    "events_url": "https://api.github.com/repos/rails/rails/issues/40330/events",
    "html_url": "https://github.com/rails/rails/issues/40330",
    "id": 714385928,
    "node_id": "MDU6SXNzdWU3MTQzODU5Mjg=",
    "number": 40330,
    "title": "Make the `rake` passthrough less surprising",
    "user": {
      "login": "avdi",
      "id": 982,
      "node_id": "MDQ6VXNlcjk4Mg==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/982?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/avdi",
      "html_url": "https://github.com/avdi",
      "followers_url": "https://api.github.com/users/avdi/followers",
      "following_url": "https://api.github.com/users/avdi/following{/other_user}",
      "gists_url": "https://api.github.com/users/avdi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/avdi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/avdi/subscriptions",
      "organizations_url": "https://api.github.com/users/avdi/orgs",
      "repos_url": "https://api.github.com/users/avdi/repos",
      "events_url": "https://api.github.com/users/avdi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/avdi/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-10-04T19:34:11Z",
    "updated_at": "2020-10-04T19:36:01Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Something I've watched my in-house Rails newbie do:\r\n\r\n1. Misremember/guess at a `rails` subcommand, e.g. `rails serve` instead of `rails server`\r\n2. `rails` doesn't recognize it... so it passes it through to `rake`, which then offers a list of `rake` tasks... which does NOT include the subcommand she was looking for (`rails server`), because it's a list of Rake tasks, not a list of `rails` subcommands.\r\n3. Newbie yells something unprintable.\r\n\r\nI love the concept behind the `rake` pass-through... but it's one of those things that needs to work consistently to be more useful than confusing. Right now it's in an uncanny valley state that feels super unfriendly to newbies.\r\n\r\nSuggested behavior:\r\n\r\nPass through only rake tasks that appear in `rake -T`. If a subcommand isn't recognized and it isn't in `rake -T`, suggest \"did you mean...\" based on the combined set of `rails` subcommands and documented Rake tasks.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rails/rails/issues/40329",
    "repository_url": "https://api.github.com/repos/rails/rails",
    "labels_url": "https://api.github.com/repos/rails/rails/issues/40329/labels{/name}",
    "comments_url": "https://api.github.com/repos/rails/rails/issues/40329/comments",
    "events_url": "https://api.github.com/repos/rails/rails/issues/40329/events",
    "html_url": "https://github.com/rails/rails/pull/40329",
    "id": 714357748,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDk3NDY2NDI5",
    "number": 40329,
    "title": "Add gitattributes for vendored and generated files [ci-skip]",
    "user": {
      "login": "jonathanhefner",
      "id": 771968,
      "node_id": "MDQ6VXNlcjc3MTk2OA==",
      "avatar_url": "https://avatars2.githubusercontent.com/u/771968?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonathanhefner",
      "html_url": "https://github.com/jonathanhefner",
      "followers_url": "https://api.github.com/users/jonathanhefner/followers",
      "following_url": "https://api.github.com/users/jonathanhefner/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonathanhefner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonathanhefner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonathanhefner/subscriptions",
      "organizations_url": "https://api.github.com/users/jonathanhefner/orgs",
      "repos_url": "https://api.github.com/users/jonathanhefner/repos",
      "events_url": "https://api.github.com/users/jonathanhefner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonathanhefner/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 300028327,
        "node_id": "MDU6TGFiZWwzMDAwMjgzMjc=",
        "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
        "name": "actioncable",
        "color": "bfdadc",
        "default": false,
        "description": null
      },
      {
        "id": 150377,
        "node_id": "MDU6TGFiZWwxNTAzNzc=",
        "url": "https://api.github.com/repos/rails/rails/labels/docs",
        "name": "docs",
        "color": "02d7e1",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-10-04T17:08:21Z",
    "updated_at": "2020-10-04T17:08:25Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "pull_request": {
      "url": "https://api.github.com/repos/rails/rails/pulls/40329",
      "html_url": "https://github.com/rails/rails/pull/40329",
      "diff_url": "https://github.com/rails/rails/pull/40329.diff",
      "patch_url": "https://github.com/rails/rails/pull/40329.patch"
    },
    "body": "The `linguist-vendored` attribute excludes the specified file from the project's language stats on GitHub.  The `linguist-generated` attribute does the same, and also suppresses that file in diffs on GitHub.\r\n\r\nSee https://github.com/github/linguist for more information.\r\n\r\n---\r\n\r\nInspired by #40278.\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rails/rails/issues/40328",
    "repository_url": "https://api.github.com/repos/rails/rails",
    "labels_url": "https://api.github.com/repos/rails/rails/issues/40328/labels{/name}",
    "comments_url": "https://api.github.com/repos/rails/rails/issues/40328/comments",
    "events_url": "https://api.github.com/repos/rails/rails/issues/40328/events",
    "html_url": "https://github.com/rails/rails/pull/40328",
    "id": 714221570,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDk3MzY4MDE1",
    "number": 40328,
    "title": "Allow config.hosts proc to receive request object",
    "user": {
      "login": "ajw725",
      "id": 2425541,
      "node_id": "MDQ6VXNlcjI0MjU1NDE=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/2425541?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajw725",
      "html_url": "https://github.com/ajw725",
      "followers_url": "https://api.github.com/users/ajw725/followers",
      "following_url": "https://api.github.com/users/ajw725/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajw725/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajw725/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajw725/subscriptions",
      "organizations_url": "https://api.github.com/users/ajw725/orgs",
      "repos_url": "https://api.github.com/users/ajw725/repos",
      "events_url": "https://api.github.com/users/ajw725/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajw725/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 107189,
        "node_id": "MDU6TGFiZWwxMDcxODk=",
        "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
        "name": "actionpack",
        "color": "FFF700",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-10-04T03:08:57Z",
    "updated_at": "2020-10-04T03:29:08Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "pull_request": {
      "url": "https://api.github.com/repos/rails/rails/pulls/40328",
      "html_url": "https://github.com/rails/rails/pull/40328",
      "diff_url": "https://github.com/rails/rails/pull/40328.diff",
      "patch_url": "https://github.com/rails/rails/pull/40328.patch"
    },
    "body": "Didn't get much feedback from the [core mailing list](https://discuss.rubyonrails.org/t/feature-proposal-list-of-paths-to-skip-when-checking-host-authorization/76246/6), but what I did get was encouraging.\r\n\r\n### Summary\r\n\r\nI wanted a way to skip the host authorization check - which I want to use in production as protection against host header poisoning - for a specific endpoint. With my application set up behind a load balancer on AWS, the host that the application sees on the health check is the IP address of the load balancer, which can change and therefore can't be hard-coded into my application. There is nothing sensitive at the health check endpoint, and I'd like to just skip the check there.\r\n\r\nIn a Rails 5 app, I just implemented the host filtering stuff in my own custom middleware. I guess I could keep doing that on Rails 6, but since Rails now has its own middleware for this, it seems like all of that functionality should be kept in one place if possible.\r\n\r\nActionDispatch::HostAuthorization accepts a list of allowed values via config.hosts. An item in this list can be anything that responds to ===, which includes a Proc. Passing the entire request object - in addition to the host value - to such a Proc allows for customization like skipping the host authorization check on a particular endpoint, e.g. a health check.\r\n\r\n### Usage\r\n\r\n```ruby\r\nRails.application.configure do\r\n  config.hosts += [\r\n    'myapp.com',\r\n    proc { |_host, req| req.path == '/healthcheck' }\r\n  ]\r\nend\r\n```\r\n\r\nOr just\r\n\r\n```ruby\r\nRails.application.configure do\r\n  config.hosts << proc { |host, req| host == 'myapp.com' || req.path  == '/healthcheck' }\r\nend\r\n```\r\n\r\n### Questions and concerns\r\n\r\n- Is passing the request object back into the Proc on every request too unwieldy?\r\n- Would it be clearer to do `allowed.call` instead of trying to keep using `===` for everything?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rails/rails/issues/40327",
    "repository_url": "https://api.github.com/repos/rails/rails",
    "labels_url": "https://api.github.com/repos/rails/rails/issues/40327/labels{/name}",
    "comments_url": "https://api.github.com/repos/rails/rails/issues/40327/comments",
    "events_url": "https://api.github.com/repos/rails/rails/issues/40327/events",
    "html_url": "https://github.com/rails/rails/pull/40327",
    "id": 714166694,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDk3MzMxODY3",
    "number": 40327,
    "title": "Fix Getting_Started guide which provides non-functional code as an example",
    "user": {
      "login": "iarobinson",
      "id": 7991933,
      "node_id": "MDQ6VXNlcjc5OTE5MzM=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/7991933?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iarobinson",
      "html_url": "https://github.com/iarobinson",
      "followers_url": "https://api.github.com/users/iarobinson/followers",
      "following_url": "https://api.github.com/users/iarobinson/following{/other_user}",
      "gists_url": "https://api.github.com/users/iarobinson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iarobinson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iarobinson/subscriptions",
      "organizations_url": "https://api.github.com/users/iarobinson/orgs",
      "repos_url": "https://api.github.com/users/iarobinson/repos",
      "events_url": "https://api.github.com/users/iarobinson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iarobinson/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 150377,
        "node_id": "MDU6TGFiZWwxNTAzNzc=",
        "url": "https://api.github.com/repos/rails/rails/labels/docs",
        "name": "docs",
        "color": "02d7e1",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2020-10-03T20:09:38Z",
    "updated_at": "2020-10-03T20:16:58Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
      "url": "https://api.github.com/repos/rails/rails/pulls/40327",
      "html_url": "https://github.com/rails/rails/pull/40327",
      "diff_url": "https://github.com/rails/rails/pull/40327.diff",
      "patch_url": "https://github.com/rails/rails/pull/40327.patch"
    },
    "body": "### Summary\r\n\r\nThis fixes two problems with the [concerns section](https://edgeguides.rubyonrails.org/getting_started.html#using-concerns) of the getting started guide. The problems are:\r\n1. The guide assumes a strong understanding of database migrations\r\n\r\n<img width=\"760\" alt=\"Screen Shot 2020-10-03 at 3 03 04 PM\" src=\"https://user-images.githubusercontent.com/7991933/95000823-c218dd80-0589-11eb-9bb6-ccfccae60b89.png\">\r\n\r\n2. The guide uses validation code which doesn't work (at least not with Rails 6)\r\n\r\n<img width=\"1440\" alt=\"Screen Shot 2020-10-03 at 2 49 31 PM\" src=\"https://user-images.githubusercontent.com/7991933/95000781-7cf4ab80-0589-11eb-8fbd-a6b9ebcc3a6c.png\">\r\n\r\n\r\n### Other Information\r\n\r\nI just did a focused study of the Getting Started guide and found errors.\r\n\r\nThis is the [first PR](https://github.com/rails/rails/pull/40326) which addresses another issue earlier in the guide.\r\n\r\nThanks to [tlatsas](https://github.com/tlatsas) for the _heads up_. He made me aware that the issue is being discussed [here](https://github.com/rails/rails/issues/39920) .",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/rails/rails/issues/40326",
    "repository_url": "https://api.github.com/repos/rails/rails",
    "labels_url": "https://api.github.com/repos/rails/rails/issues/40326/labels{/name}",
    "comments_url": "https://api.github.com/repos/rails/rails/issues/40326/comments",
    "events_url": "https://api.github.com/repos/rails/rails/issues/40326/events",
    "html_url": "https://github.com/rails/rails/pull/40326",
    "id": 714126260,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDk3MzAyODUy",
    "number": 40326,
    "title": "Fix an error in the getting started guide related to misnamed routes",
    "user": {
      "login": "iarobinson",
      "id": 7991933,
      "node_id": "MDQ6VXNlcjc5OTE5MzM=",
      "avatar_url": "https://avatars2.githubusercontent.com/u/7991933?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iarobinson",
      "html_url": "https://github.com/iarobinson",
      "followers_url": "https://api.github.com/users/iarobinson/followers",
      "following_url": "https://api.github.com/users/iarobinson/following{/other_user}",
      "gists_url": "https://api.github.com/users/iarobinson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iarobinson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iarobinson/subscriptions",
      "organizations_url": "https://api.github.com/users/iarobinson/orgs",
      "repos_url": "https://api.github.com/users/iarobinson/repos",
      "events_url": "https://api.github.com/users/iarobinson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iarobinson/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 150377,
        "node_id": "MDU6TGFiZWwxNTAzNzc=",
        "url": "https://api.github.com/repos/rails/rails/labels/docs",
        "name": "docs",
        "color": "02d7e1",
        "default": false,
        "description": null
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2020-10-03T16:33:32Z",
    "updated_at": "2020-10-03T19:24:04Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "pull_request": {
      "url": "https://api.github.com/repos/rails/rails/pulls/40326",
      "html_url": "https://github.com/rails/rails/pull/40326",
      "diff_url": "https://github.com/rails/rails/pull/40326.diff",
      "patch_url": "https://github.com/rails/rails/pull/40326.patch"
    },
    "body": "### Summary\r\n\r\nI found the following error in the getting started guide:\r\n\r\n<img width=\"885\" alt=\"Screen Shot 2020-10-03 at 11 07 07 AM\" src=\"https://user-images.githubusercontent.com/7991933/94996703-d3eb8800-056b-11eb-9e32-d8eb0b163188.png\">\r\n\r\nInitially, we start with a route for `articles` but the documentation later calls this `welcome`. This is misleading to early stage rails programmers.\r\n\r\nIn this PR, I change the start of the documentation so that it matches the end.\r\n\r\nIt starts with an `articles` get route, but we want this to match the end by being a `welcome` get route.\r\n\r\nThanks Rails community!\r\n",
    "performed_via_github_app": null
  }
]